javascript:(function(){var FB=function(){if("fritz.box"!=location.hostname||49E3!=location.port)alert("Redirecting to http://fritz.box:49000. Afterwards start this script again."),location="http://fritz.box:49000";var h="0.0.0.0",c=new XMLHttpRequest,b=document.body;for(document.title="FRITZ!Box JS-Controller v0.1";b.hasChildNodes();)b.removeChild(b.lastChild);var a=document.createElement("section");a.style.border="1px solid black";a.style.width="200px";a.style.padding="1em";a.style.margin="2em";var l=document.createTextNode("IP address: ");
a.appendChild(l);b.appendChild(a);var d=document.createElement("span");d.style.marginRight="5px";b=document.createTextNode("0.0.0.0");d.appendChild(b);a.appendChild(d);var e=document.createElement("img");e.src="data:image/gif;base64,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";
e.style.display="none";a.appendChild(e);var f=document.createElement("button"),b=document.createTextNode("New IP address");f.appendChild(b);a.appendChild(f);c.onreadystatechange=function(){if(c.readyState==XMLHttpRequest.DONE){var a=c.responseXML.getElementsByTagName("NewExternalIPAddress");if(0<c.responseXML.getElementsByTagNameNS("urn:schemas-upnp-org:service:WANIPConnection:1","ForceTerminationResponse").length)setTimeout(function(){g()},2E3);else if(a=a.item(0).firstChild.nodeValue,console.log("IP: %s",
a),"0.0.0.0"==a||a==h)setTimeout(function(){g()},2E3);else{var b=document.createTextNode(a);d.replaceChild(b,d.lastChild);f.disabled=!1;e.style.display="none";h=a}}};f.addEventListener("click",function(){f.disabled=!0;e.style.display="block";k("urn:schemas-upnp-org:service:WANIPConnection:1#ForceTermination",'<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope" s:encordingStyle="http://schemas.xmlsoap.org/soap/encoding/"><s:Body><u:ForceTermination xmlns:u="urn:schemas-upnp-org:service:WANIPConnection:1"/></s:Body></s:Envelope>')});
var k=function(a,b){c.open("POST","http://fritz.box:49000/upnp/control/WANIPConn1");c.setRequestHeader("Content-Type","text/xml");c.setRequestHeader("SOAPAction",a);c.send(b)},g=function(){k("urn:schemas-upnp-org:service:WANIPConnection:1#GetExternalIPAddress",'<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope" s:encordingStyle="http://schemas.xmlsoap.org/soap/encoding/"><s:Body><u:GetExternalIPAdress xmlns:u="urn:schemas-upnp-org:service:WANIPConnection:1"/> </s:Body></s:Envelope>')};
return{start:g}};(new FB).start();}())